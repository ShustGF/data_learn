# **Задания для модуля 2:**
## 1. Внедрение реляционной базы данных (далее РБД) PostgreSQL ##
Вам необходимо установить Postgres базу данных к себе на компьютер. Вы можете посмотреть инструкции по установки Postgres.

___

В рамках выполнения 2  задания была выполнена установка PostgreSQL из коробки на локальный компьютер. В основе кроме кнопок "Далее" там делать ничего не требовалось, поэтому в целях усложнения данной задачи и оттачивании навыков полученых на курсе "Docker" (https://karpov.courses/docker)  было принято решение поднять контейнер Docker PostgreSQL. Images был создан и сохранён в репозитории и доступен по команде docker pull shustgf/dlpostgresql (https://hub.docker.com/repository/docker/shustgf/dlpostgresql/general). Данный контейнер имеет уже в себе все необходимы данные для выполения пункта 2.3.

Контейнер PosgreSQL поднимался с помощью следующего содержания Dockerfile:

`        FROM postgres:14                                                # За основу взяли репозиторий PostreSQL версии 14 

        RUN apt-get update && apt-get install -y nano vim               # Устанавливаем дополнительные редакторы nano и vim

        COPY ./table ./table                                            # Копируем каталог table в котором находится 3 файла 
                                                                          "Orders.csv","Returns.csv","People.csv". Данные файлы
                                                                          созданы с учетом листов из файла "Sample - Superstore.xlsx"
        ENV POSTGRES_PASSWORD=gfh0km                                    # Объявляем переменное простраство с 3мя параметрами 
        ENV POSTGRES_USER=dl_user                                         "POSTGRES_PASSWORD", "POSTGRES_USER", "POSTGRES_DB" со
        ENV POSTGRES_DB=superstore                                        значениями "gfh0km", "dl_user", "superstore".
                                                                          Данные значения проставлены в рамках обучения на 
                                                                          реальных базах данных такого делать не стоит в рамках безопастности.
        EXPOSE 5432                                                     # Сообщаем какой порт слушается для пользователей

        COPY ./Commands.sql /docker-entrypoint-initdb.d/Commands.sql    # В связи с тем, что PostgreSQL "поднимается" позже чем выполняется 
                                                                          конструкция ENTRYPOIN, запросы из пункта 2.2 находящиеся в файле 
                                                                          "Commands.sql" нужно поместить в каталог /docker-entrypoint-initdb.d. В 
                                                                          данном случае файл "Commands.sql" выполнится при "поднятии" контейнера.
`

После скачивания Images, запускаем контейнер с помощью команды docker run --rm -d -p 2345:5432 --name ps1 shustgf/dlpostgresql.(порт на хосте равен 2345 из-за того, что установлена локальная версия PostgreSQL и чтобы небыло конфликта обращаться требуется на другой порт) 

## 2. Подключение базы данных и SQL ##

1) Вам необходимо установить клиент SQL для подключения базы данных. Вы можете посмотреть инструкции по установки DBeaver. Так же вы можете использовать любой другой клиент для подключения к ваше БД.
2) Создайте 3 таблицы и загрузите данные из Superstore Excel файл в вашу базу данных. Сохраните в вашем GitHub скрипт загрузки данных и создания таблиц. Вы можете использовать готовый пример sql файлов.
3) Напишите запросы, чтобы ответить на вопросы из Модуля 01. Сохраните в вашем GitHub скрипт загрузки данных и создания таблиц.

___

# Выполнение поставленной задачи

1) Локально была установлена программа DBeaver для подключения к РБД PostreSQL. Для подключения к PostgreSQL средствами DBeaver был автоматически скачен JDBC драйвер. Никаких дополнительных настроек программы и подключения не проводилось.

        Параметры подключения базы данных представлена на следующем изображении:

        ![Подключение к БД](https://github.com/ShustGF/data_learn/blob/main/DE-101/Module2/Images/link_BD.PNG)

2) 
